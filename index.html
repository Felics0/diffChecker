<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mathquill/0.10.1/mathquill.css" />
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mathquill/0.10.1/mathquill.js"></script>
  <script src="https://www.desmos.com/api/v1.5/calculator.js?apiKey=dcb31709b452b1cf9dc26972add0fda6"></script>
  <script src="nerdamer/nerdamer.core.js"></script>
  <script src="nerdamer/Algebra.js"></script>
  <script src="nerdamer/Calculus.js"></script>
  <script src="nerdamer/Solve.js"></script>
  <script src="nerdamer/Extra.js"></script>
  <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
</head>
<body>
  <div class="container">
    <h1>Derivability Checker</h1>
    <p>Inserisci la funzione: <span id="functionInput"></span></p>
    <p>Inserisci x₀ ∈ al dominio: <span id="dotInput"></span></p>
    <button id="enter" onclick="main();">Invio</button> <p></p>
    <div id="loadingIndicator" style="display: none;">Calcolo dei risultati in corso...</div>
    <div id="desmos" style="width: 600px; height: 400px;"></div>
    <p>Derivata in x: <span id="diffOutput"></span></p>
    <p>Limite sinistro della derivata in x₀: <span id="leftLimitOutput"></span></p>
    <p>Limite destro della derivata in x₀: <span id="rightLimitOutput"></span></p>
    <p><span id="description"></span><span id="kind"></span></p>
    <button onclick="location.reload();">Reset</button>
  </div>

  <script>
    var elt = document.getElementById('desmos');
    var desmos = Desmos.GraphingCalculator(elt, {
      expressionsCollapsed: true,
      keypad: false,
      expressions: false,
      settingsMenu: true,
      zoomButtons: false,
      fullScreen: false,
      expressionsTopbar: false,
      pointsOfInterest: true,
    });

    var MQ = MathQuill.getInterface(2);

    var pointInput = document.getElementById('dotInput');
    var dotInputField = MQ.MathField(pointInput);

    var functionInput = document.getElementById('functionInput');
    var functionInputField = MQ.MathField(functionInput);

    var diffOutput = document.getElementById('diffOutput');
    var diffOutputField = MQ.StaticMath(diffOutput);

    var leftLimitOutputField = MQ.StaticMath(document.getElementById('leftLimitOutput'));
    var rightLimitOutputField = MQ.StaticMath(document.getElementById('rightLimitOutput'));
  </script>

  <script src="index.js"></script>

</body>
</html>
